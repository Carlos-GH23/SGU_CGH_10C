:root{
  --bg: #0b0c10;
  --panel: #101218;
  --panel-2: #121621;
  --text: #eef1f7;
  --muted: #a9b1c7;
  --primary: #4f8cff;
  --primary-600: #3c74e6;
  --border: #1f2330;
  --danger: #ff6b6b;
  --success: #3ddc97;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

@media (prefers-color-scheme: light){
  :root{
    --bg: #f6f7fb;
    --panel: #ffffff;
    --panel-2: #f9fbff;
    --text: #111827;
    --muted: #6b7280;
    --primary: #2563eb;
    --primary-600: #1d4ed8;
    --border: #e5e7eb;
    --shadow: 0 10px 30px rgba(0,0,0,.08);
  }
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body{
  margin:0;
  color:var(--text);
  background:
    radial-gradient(1000px 600px at 10% -10%, rgba(79,140,255,.15), transparent 60%),
    radial-gradient(800px 500px at 90% -20%, rgba(61,220,151,.12), transparent 60%),
    var(--bg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
}

.shell { min-height: 100%; display: grid; grid-template-rows: auto 1fr auto; }

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:20px 24px;
  position: sticky; top:0; z-index: 10;
  backdrop-filter: saturate(1.2) blur(6px);
  background: color-mix(in oklab, var(--bg) 80%, transparent);
  border-bottom: 1px solid var(--border);
}

.brand{ display:flex; align-items:center; gap:14px; }
.logo{
  width:40px; height:40px; border-radius:12px;
  display:grid; place-items:center; font-weight:800;
  background: linear-gradient(135deg, var(--primary), var(--success));
  color:#fff; box-shadow: var(--shadow);
}
.titles h1{ margin:0; font-size:20px; letter-spacing:.2px; }
.subtitle{ margin:2px 0 0; color:var(--muted); font-size:12px; }

.actions{ display:flex; gap:10px; align-items:center; }
.search input{
  width:260px; max-width:42vw;
  background: var(--panel-2);
  border: 1px solid var(--border);
  padding:10px 12px; border-radius:10px; color: var(--text);
  outline:none;
}
.search input:focus{ border-color: var(--primary); box-shadow: 0 0 0 4px color-mix(in oklab,var(--primary) 20%, transparent); }

.btn{
  appearance:none; border:1px solid var(--border);
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  color:var(--text); padding:10px 14px; border-radius:10px; cursor:pointer;
  transition: .15s ease; box-shadow: var(--shadow);
}
.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn[disabled]{ opacity:.5; cursor:not-allowed; }

.btn-primary{
  background: linear-gradient(180deg, var(--primary), var(--primary-600));
  border-color: color-mix(in oklab, var(--primary) 70%, black);
  color: white;
}
.btn-ghost{ background: transparent; box-shadow: none; }
.btn-sm{ padding:6px 10px; border-radius:8px; font-size:12px; }

.content{ padding:24px; display:grid; gap:24px; max-width:1200px; margin: 0 auto; }
.content.with-side{ grid-template-columns: 360px 1fr; }

.card{
  background: color-mix(in oklab, var(--panel) 92%, transparent);
  border:1px solid var(--border); border-radius:16px; box-shadow: var(--shadow);
}
.card-header{
  display:flex; align-items:baseline; justify-content:space-between;
  padding:16px 18px; border-bottom:1px solid var(--border);
}
.card .muted{ color:var(--muted); font-size:12px; }

.side-form{ position: sticky; top: 92px; align-self:start; }

.form-grid{
  padding:16px; display:grid; gap:12px;
  grid-template-columns: 1fr 1fr; align-items:start;
}
.field{ display:grid; gap:6px; }
.field label{ font-size:12px; color:var(--muted); }
.field input{
  background: var(--panel-2); border:1px solid var(--border); color:var(--text);
  padding:10px 12px; border-radius:10px; outline:none;
}
.field input:focus{ border-color: var(--primary); box-shadow: 0 0 0 4px color-mix(in oklab,var(--primary) 20%, transparent); }
.error{ color: var(--danger); font-size:12px; }
.form-actions{ grid-column: 1 / -1; display:flex; gap:10px; margin-top:6px; }

.table-wrap{ width:100%; overflow:auto; }
.table{ width:100%; border-collapse: collapse; }
.table th, .table td{ padding:12px 10px; border-bottom:1px solid var(--border); }
.table thead th{ position: sticky; top: 0; background: color-mix(in oklab, var(--panel) 98%, transparent); z-index:1; }
.table tbody tr:hover{ background: color-mix(in oklab, var(--panel-2) 80%, transparent); }
.row-actions{ display:flex; gap:6px; }
.empty{ color:var(--muted); text-align:center; padding:18px; }

.footer{
  border-top:1px solid var(--border);
  padding:14px 24px; color:var(--muted); font-size:12px;
  background: color-mix(in oklab, var(--bg) 85%, transparent);
}

.modal-backdrop{
  position: fixed; inset:0; background: rgba(0,0,0,.5);
  display:grid; place-items:center; padding: 24px;
  animation: fadeIn .15s ease;
}
.modal{
  width: min(720px, 96vw);
  background: var(--panel); border:1px solid var(--border);
  border-radius:16px; box-shadow: var(--shadow); overflow:hidden;
}
.modal-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 18px; border-bottom:1px solid var(--border);
}
.modal-body{ padding: 12px 16px; }

.skeleton{
  margin: 10px 16px; border-radius: 12px; padding: 14px;
  background: linear-gradient(90deg, color-mix(in oklab, var(--panel-2) 70%, transparent), var(--panel), color-mix(in oklab, var(--panel-2) 70%, transparent));
  background-size: 200% 100%;
  animation: shimmer 1.2s infinite;
}

.toast{
  position: fixed; top: 14px; right: 14px; z-index: 50;
  display:flex; gap:10px; align-items:center;
  background: var(--panel); border:1px solid var(--border); color: var(--text);
  padding:10px 12px; border-radius:12px; box-shadow: var(--shadow);
}
.toast.success{ border-color: color-mix(in oklab, var(--success) 40%, var(--border)); }
.toast.error{ border-color: color-mix(in oklab, var(--danger) 40%, var(--border)); }

.error-line{
  color: var(--danger);
  margin: 10px 16px;
}

@keyframes shimmer{
  0%{ background-position: 0% 0; }
  100%{ background-position: 200% 0; }
}
@keyframes fadeIn{
  from{ opacity:0 } to { opacity:1 }
}

@media (max-width: 980px){
  .content.with-side{ grid-template-columns: 1fr; }
  .side-form{ position: static; }
  .form-grid{ grid-template-columns: 1fr; }
  .actions .search input{ width: 44vw; }
}
